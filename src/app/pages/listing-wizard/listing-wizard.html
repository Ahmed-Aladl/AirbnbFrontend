<div class="min-h-screen bg-white flex flex-col">
  <!-- Header -->
  <header class="border-b border-gray-200 bg-white">
    <div class="max-w-2xl mx-auto px-6 py-4">
      <div class="flex items-center justify-between">
        <div class="text-xl font-semibold text-rose-500">airbnb</div>
        <button class="text-sm underline hover:no-underline text-gray-700">
          Save & exit
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col">
    <!-- Step Content -->
    <div class="flex-1 max-w-2xl mx-auto w-full px-6 py-8">
      <!-- Step Header -->
      <div class="mb-8">
        <div class="text-sm text-gray-500 mb-2">Step {{currentStep}} of {{totalSteps}}</div>
        <h1 class="text-3xl font-semibold text-gray-900 mb-2">
          {{stepTitles[currentStep - 1]}}
        </h1>
        <p class="text-lg text-gray-600">
          {{stepSubtitles[currentStep - 1]}}
        </p>
      </div>

      <!-- Dynamic Step Content -->
      <div class="step-content transition-all duration-300 ease-in-out">
        <!-- Step 1: Basic Info -->
        <div *ngIf="currentStep === 1" class="step-1 animate-fade-in">
          <app-wizard-step-one [form]="wizardForm"></app-wizard-step-one>
        </div>

        <!-- Step 2: Make it stand out -->
        <div *ngIf="currentStep === 2" class="step-2 animate-fade-in">
          <app-wizard-step-two [form]="wizardForm"></app-wizard-step-two>
        </div>

        <!-- Step 3: Finish up -->
        <div *ngIf="currentStep === 3" class="step-3 animate-fade-in">
          <app-wizard-step-three [form]="wizardForm"></app-wizard-step-three>
        </div>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation Bar -->
  <footer class="border-t border-gray-200 bg-white sticky bottom-0">
    <div class="max-w-2xl mx-auto px-6 py-4">
      <div class="flex items-center justify-between">
        <!-- Back Button -->
        <button 
          *ngIf="!isFirstStep()"
          (click)="prevStep()"
          class="flex items-center px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
          Back
        </button>
        
        <!-- Empty div to maintain spacing when no back button -->
        <div *ngIf="isFirstStep()"></div>

        <!-- Progress Bar -->
        <div class="flex-1 mx-8">
          <div class="relative">
            <!-- Background progress track -->
            <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
              <!-- Active progress -->
              <div 
                class="h-full bg-gray-900 rounded-full transition-all duration-500 ease-out"
                [style.width.%]="getProgressPercentage()">
              </div>
            </div>
            
            <!-- Step indicators -->
            <div class="absolute -top-1 left-0 w-full flex justify-between">
              <div 
                *ngFor="let step of [1,2,3]; let i = index"
                class="w-4 h-4 rounded-full border-2 transition-all duration-300"
                [ngClass]="{
                  'bg-gray-900 border-gray-900': currentStep > i + 1,
                  'bg-white border-gray-900': currentStep === i + 1,
                  'bg-white border-gray-300': currentStep < i + 1
                }">
              </div>
            </div>
          </div>
        </div>

        <!-- Next/Finish Button -->
        <button 
          (click)="isLastStep() ? onSubmit() : nextStep()"
          [disabled]="!canProceed()"
          class="flex items-center px-6 py-3 text-sm font-medium text-white bg-gray-900 rounded-lg hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200">
          {{ isLastStep() ? 'Publish' : 'Next' }}
          <svg *ngIf="!isLastStep()" class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>
    </div>
  </footer>
</div>