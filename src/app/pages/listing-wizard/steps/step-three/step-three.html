<div class="space-y-8">
  <!-- Step 3 Intro -->
  <div *ngIf="currentSubStep === 0">
    <h1 class="text-2xl font-semibold text-gray-900 mb-4">Step 3</h1>
    <h2 class="text-3xl font-semibold text-gray-900 mb-4">Finish up and publish</h2>
    <p class="text-lg text-gray-600">
      Finally, you'll choose booking settings, set up pricing, and publish your listing.
    </p>
  </div>

  <!-- Booking Settings -->
  <div *ngIf="currentSubStep === 1">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Pick your booking settings</h2>
    <p class="text-gray-600 mb-6">You can change this at any time. <span class="underline cursor-pointer">Learn more</span></p>
    
    <div class="space-y-4">
      <div 
        *ngFor="let option of bookingOptions"
        (click)="toggleInstantBook(option.id)"
        class="p-4 border-2 rounded-xl cursor-pointer transition-all duration-200"
        [ngClass]="{
          'border-gray-900 bg-gray-50': option.selected,
          'border-gray-300': !option.selected
        }">
        <div class="flex items-start space-x-3">
          <div class="w-5 h-5 mt-0.5">
            <div 
              class="w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors duration-200"
              [ngClass]="{
                'border-gray-900 bg-gray-900': option.selected,
                'border-gray-300': !option.selected
              }">
              <svg *ngIf="option.selected" class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
            </div>
          </div>
          <div>
            <div class="font-medium text-gray-900">{{option.title}}</div>
            <div class="text-sm text-gray-500">{{option.description}}</div>
            <div *ngIf="option.recommended" class="mt-2 text-xs text-green-600 font-medium">Recommended</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Guest Preferences -->
  <div *ngIf="currentSubStep === 2">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Choose who to welcome for your first reservation</h2>
    <p class="text-gray-600 mb-6">After your first guest, anyone can book your place. <span class="underline cursor-pointer">Learn more</span></p>
    
    <div class="space-y-3">
      <div 
        *ngFor="let preference of guestPreferences"
        (click)="selectGuestPreference(preference.id)"
        class="p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:border-gray-900"
        [ngClass]="{
          'border-gray-900 bg-gray-50': preference.selected,
          'border-gray-300': !preference.selected
        }">
        <div class="flex items-start space-x-3">
          <div class="w-5 h-5 mt-0.5">
            <div 
              class="w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors duration-200"
              [ngClass]="{
                'border-gray-900 bg-gray-900': preference.selected,
                'border-gray-300': !preference.selected
              }">
              <svg *ngIf="preference.selected" class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
            </div>
          </div>
          <div>
            <div class="font-medium text-gray-900">{{preference.title}}</div>
            <div class="text-sm text-gray-500">{{preference.description}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Base Price -->
  <div *ngIf="currentSubStep === 3">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Now, set a weekday base price</h2>
    <p class="text-gray-600 mb-6">Tip: ${{suggestedPrice}}. You'll set a weekend price next.</p>
    
    <div class="relative">
      <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-2xl font-semibold text-gray-900">$</div>
      <input
        type="number"
        [value]="weekdayPriceControl.value"
        (input)="updatePrice($event)"
        placeholder="0"
        min="1"
        class="w-full pl-12 pr-20 py-4 text-2xl font-semibold border-2 border-gray-300 rounded-xl focus:border-gray-900 focus:outline-none transition-colors duration-200">
      <div class="absolute right-4 top-1/2 transform -translate-y-1/2 text-lg text-gray-500">per night</div>
    </div>

    <div class="mt-4 flex items-center space-x-2 text-sm text-gray-600">
      <input type="checkbox" id="viewSimilar" class="rounded">
      <label for="viewSimilar">View similar listings</label>
    </div>
    <div class="mt-2 text-sm text-gray-600 underline cursor-pointer">Learn more about pricing</div>
  </div>

  <!-- Weekend Price -->
  <div *ngIf="currentSubStep === 4">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Set a weekend price</h2>
    <p class="text-gray-600 mb-6">Add a premium for Fridays and Saturdays.</p>
    
    <div class="relative mb-4">
      <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-2xl font-semibold text-gray-900">$</div>
      <input
        type="number"
        [value]="weekendPriceControl.value"
        (input)="updateWeekendPrice($event)"
        placeholder="0"
        min="1"
        class="w-full pl-12 pr-20 py-4 text-2xl font-semibold border-2 border-gray-300 rounded-xl focus:border-gray-900 focus:outline-none transition-colors duration-200">
    </div>
    
    <div class="mb-2 text-sm text-gray-600">Weekend premium</div>
    <div class="text-sm text-gray-500 mb-2">Tip: Try 1%</div>
    
    <div class="relative">
      <div class="absolute right-4 top-1/2 transform -translate-y-1/2 text-lg text-gray-500">%</div>
      <input
        type="number"
        [value]="weekendPremiumControl.value"
        (input)="updateWeekendPremium($event)"
        placeholder="0"
        min="0"
        max="100"
        class="w-full pr-12 py-3 text-lg font-semibold border-2 border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none transition-colors duration-200">
    </div>
    
    <div class="mt-4 text-sm text-gray-600">
      Guest price before taxes ${{getTotalPrice()}} â–¼
    </div>
  </div>

  <!-- Discounts -->
  <div *ngIf="currentSubStep === 5">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Add discounts</h2>
    <p class="text-gray-600 mb-6">Help your place stand out to get booked faster and earn your first reviews.</p>
    
    <div class="space-y-4">
      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
        <div>
          <div class="font-medium text-gray-900">New listing promotion</div>
          <div class="text-sm text-gray-500">Offer 20% off your first 3 bookings</div>
        </div>
        <button 
          type="button"
          (click)="form.patchValue({ newListingPromotion: !form.get('newListingPromotion')?.value })"
          class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200"
          [ngClass]="{
            'bg-gray-900': form.get('newListingPromotion')?.value,
            'bg-gray-300': !form.get('newListingPromotion')?.value
          }">
          <span 
            class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200"
            [ngClass]="{
              'translate-x-6': form.get('newListingPromotion')?.value,
              'translate-x-1': !form.get('newListingPromotion')?.value
            }">
          </span>
        </button>
      </div>
      
      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
        <div>
          <div class="font-medium text-gray-900">Last-minute discount</div>
          <div class="text-sm text-gray-500">For stays booked 14 days or less before arrival</div>
        </div>
        <button 
          type="button"
          (click)="form.patchValue({ lastMinuteDiscount: !form.get('lastMinuteDiscount')?.value })"
          class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200"
          [ngClass]="{
            'bg-gray-900': form.get('lastMinuteDiscount')?.value,
            'bg-gray-300': !form.get('lastMinuteDiscount')?.value
          }">
          <span 
            class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200"
            [ngClass]="{
              'translate-x-6': form.get('lastMinuteDiscount')?.value,
              'translate-x-1': !form.get('lastMinuteDiscount')?.value
            }">
          </span>
        </button>
      </div>
      
      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
        <div>
          <div class="font-medium text-gray-900">Weekly discount</div>
          <div class="text-sm text-gray-500">For stays of 7 nights or more</div>
        </div>
        <button 
          type="button"
          (click)="form.patchValue({ weeklyDiscount: !form.get('weeklyDiscount')?.value })"
          class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200"
          [ngClass]="{
            'bg-gray-900': form.get('weeklyDiscount')?.value,
            'bg-gray-300': !form.get('weeklyDiscount')?.value
          }">
          <span 
            class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200"
            [ngClass]="{
              'translate-x-6': form.get('weeklyDiscount')?.value,
              'translate-x-1': !form.get('weeklyDiscount')?.value
            }">
          </span>
        </button>
      </div>
      
      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
        <div>
          <div class="font-medium text-gray-900">Monthly discount</div>
          <div class="text-sm text-gray-500">For stays of 28 nights or more</div>
        </div>
        <button 
          type="button"
          (click)="form.patchValue({ monthlyDiscount: !form.get('monthlyDiscount')?.value })"
          class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200"
          [ngClass]="{
            'bg-gray-900': form.get('monthlyDiscount')?.value,
            'bg-gray-300': !form.get('monthlyDiscount')?.value
          }">
          <span 
            class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200"
            [ngClass]="{
              'translate-x-6': form.get('monthlyDiscount')?.value,
              'translate-x-1': !form.get('monthlyDiscount')?.value
            }">
          </span>
        </button>
      </div>
    </div>
  </div>

  <!-- Safety Details -->
  <div *ngIf="currentSubStep === 6">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Share safety details</h2>
    <p class="text-gray-600 mb-6">Does your place have any of these?</p>
    
    <div class="space-y-3">
      <div *ngFor="let item of safetyItems" class="flex items-center space-x-3">
        <input 
          type="checkbox" 
          [id]="item.id" 
          [checked]="form.get(item.id)?.value"
          (change)="toggleSafetyItem(item.id)"
          class="w-5 h-5 rounded border-gray-300 text-gray-900 focus:ring-gray-900">
        <label [for]="item.id" class="text-gray-900">{{item.name}}</label>
      </div>
    </div>
    
    <div class="mt-6 p-4 bg-gray-50 rounded-lg">
      <p class="text-sm text-gray-600">
        <strong>Important things to know:</strong> Security cameras that monitor indoor spaces are not allowed even if they're turned off. All exterior security cameras must be disclosed.
      </p>
      <p class="mt-2 text-sm text-gray-600">
        Be sure to comply with your local laws and review Airbnb's anti-discrimination policy and guest and Host fees.
      </p>
    </div>
  </div>

  <!-- Final Details -->
  <div *ngIf="currentSubStep === 7">
    <h2 class="text-xl font-semibold text-gray-900 mb-2">Provide a few final details</h2>
    <p class="text-gray-600 mb-6"><strong>What's your residential address?</strong></p>
    <p class="text-sm text-gray-500 mb-6">Guests won't see this information.</p>
    
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Country / region</label>
        <div class="p-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900">Egypt</div>
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Apt, room, etc. (if applicable)</label>
        <input 
          type="text" 
          [formControl]="apartmentControl"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none">
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Street address</label>
        <input 
          type="text" 
          [formControl]="streetControl"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none">
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">City / markaz</label>
        <input 
          type="text" 
          [formControl]="cityControl"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none">
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Governorate</label>
        <input 
          type="text" 
          [formControl]="governorateControl"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none">
      </div>
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Postal code</label>
        <input 
          type="text" 
          [formControl]="postalCodeControl"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-900 focus:outline-none">
      </div>
    </div>
    
    <div class="mt-6">
      <p class="text-sm font-medium text-gray-700 mb-2">Are you hosting as a business?</p>
      <p class="text-sm text-gray-500 mb-4">
        This means your business is most likely registered with your state or government. 
        <span class="underline cursor-pointer">Get details</span>
      </p>
      
      <div class="flex space-x-4">
        <button 
          type="button"
          (click)="form.patchValue({ hostingAsBusiness: true })"
          class="px-4 py-2 border rounded-lg transition-colors duration-200"
          [ngClass]="{
            'border-gray-900 bg-gray-50': form.get('hostingAsBusiness')?.value,
            'border-gray-300': !form.get('hostingAsBusiness')?.value
          }">
          Yes
        </button>
        <button 
          type="button"
          (click)="form.patchValue({ hostingAsBusiness: false })"
          class="px-4 py-2 border rounded-lg transition-colors duration-200"
          [ngClass]="{
            'border-gray-900 bg-gray-50': !form.get('hostingAsBusiness')?.value,
            'border-gray-300': form.get('hostingAsBusiness')?.value
          }">
          No
        </button>
      </div>
    </div>
  </div>
</div>