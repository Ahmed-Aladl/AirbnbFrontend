<div class="section-content">
  <div class="section-header">
    <h2>How many guests can your place accommodate?</h2>
    <p>Choose the maximum number of guests who can comfortably stay.</p>
  </div>
  
  <form [formGroup]="guestsForm">
    <div class="guest-selection-container">
      
      <!-- Guest Icons Display - Now first/top -->
      <div class="guest-icons-container">
        <div class="guest-icons-scroll">
          <img
            *ngFor="let icon of getGuestIconsToShow(); trackBy: trackByGuestIcon"
            [src]="icon.url"
            [alt]="'Guest ' + (icon.index + 1)"
            class="guest-icon"
            onerror="this.style.display='none'">
        </div>
      </div>
      
      <!-- Counter Controls - Now below the icons -->
      <div class="counter-controls">
        <button
          type="button"
          class="counter-btn"
          [disabled]="getCurrentGuestCount() <= 1"
          (click)="decrementGuests()"
          aria-label="Decrease guest count">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
          </svg>
        </button>
        
        <span class="counter-value">{{ getCurrentGuestCount() }}</span>
        
        <button
          type="button"
          class="counter-btn"
          [disabled]="getCurrentGuestCount() >= 16"
          (click)="incrementGuests()"
          aria-label="Increase guest count">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
          </svg>
        </button>
      </div>
      
      <div style="color: #717171; font-size: 0.9rem; margin-top: -0.5rem;">
        {{ getCurrentGuestCount() }} guest{{getCurrentGuestCount() > 1 ? 's' : ''}}
      </div>
      
    </div>
  </form>
</div>