<div class="page-container">
  <main class="content-wrapper">
    <header class="page-header">
      <h1 class="page-title">Ta-da! How does this look?</h1>
      <p class="page-subtitle">Drag to reorder</p>
    </header>

    <!-- Hidden file input for adding more photos -->
    <input
      type="file"
      id="add-photos-input"
      multiple
      accept="image/jpeg,image/png,image/heic"
      hidden
      (change)="addPhotos($event)"
    />

    <div class="photo-grid">
      <ng-container *ngFor="let photo of photos; let i = index">
        <div
          class="photo-item"
          [class.cover-photo]="i === 0"
          [draggable]="true"
          (dragstart)="onDragStart(i)"
          (dragover)="$event.preventDefault()"
          (drop)="onDrop(i)"
        >
          <img [src]="photo" alt="Property photo" loading="lazy" />
          <div *ngIf="i === 0" class="photo-caption">Cover Photo</div>
          <button
            class="delete-button"
            (click)="removePhoto(i)"
            *ngIf="photos.length > 5"
          >
            <svg
              viewBox="0 0 32 32"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M7 7L25 25M25 7L7 25"></path>
            </svg>
          </button>
        </div>
      </ng-container>

      <!-- Add More Photos Button -->
      <label for="add-photos-input" class="add-photo-button">
        <svg viewBox="0 0 32 32"><path d="M2 16h28M16 2v28"></path></svg>
        <span>Add more</span>
      </label>
    </div>
  </main>
</div>
